{
  "openapi": "3.0.0",
  "info": {
    "title": "42-jiphyoenjeon web service API",
    "version": "0.1.0",
    "description": "42-jiphyeonjeon web service, that is, 42library's APIs with Express and documented with Swagger",
    "license": {
      "name": "MIT",
      "url": "https://spdx.org/licenses/MIT.html"
    },
    "contact": {
      "name": "jolim",
      "url": "https://github.com/evelon/",
      "email": "ezemango@gmail.com"
    }
  },
  "servers": [
    {
      "url": "http://localhost:3000/"
    }
  ],
  "paths": {
    "/api/auth/oauth": {
      "get": {
        "description": "42 Api에 API key값을 추가해서 요청한다. redirect 되기에 반환값 확인 불가",
        "tags": [
          "auth"
        ],
        "responses": {
          "302": {
            "description": "정상적으로 42 Api로 이동",
            "headers": {
              "Location": {
                "description": "42 Api 주소로 이동",
                "schema": {
                  "type": "string",
                  "format": "uri"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/token": {
      "get": {
        "description": "42 OAuth Api의 반환값을 이용하여 토큰을 발급한다. redirect 되기에 반환값 확인 불가.",
        "tags": [
          "auth"
        ],
        "responses": {
          "302": {
            "description": "성공적으로 토큰 발급",
            "headers": {
              "Location": {
                "description": "브라우저에 유저정보를 저장 하는 frontend /auth 주소로 이동",
                "schema": {
                  "type": "string",
                  "format": "uri"
                }
              }
            }
          },
          "401": {
            "description": "42 api와 연동된 ID가 없음, [front에서 알림 후 회원가입창으로 이동]",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "number"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "예상 하지 못한 오류",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "number"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/me": {
      "get": {
        "description": "클라이언트의 로그인된 유저 정보를 받아온다.",
        "tags": [
          "auth"
        ],
        "responses": {
          "200": {
            "description": "로그인 되어 있는 유저의 정보를 반환한다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "description": "로그인한 유저의 PK",
                      "type": "integer",
                      "example": 42
                    },
                    "intra": {
                      "description": "인트라 아이디 (인트라아이디가 없다면 email)",
                      "type": "string",
                      "example": "seongyle"
                    },
                    "librarian": {
                      "description": "사서 여부",
                      "type": "boolean"
                    },
                    "email": {
                      "description": "email",
                      "type": "string",
                      "example": "seongyle@student.42seoul.kr"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "토큰이 없을 경우 에러",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "number"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "권한이 맞지 않을때 에러",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "number"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "410": {
            "description": "해당 토큰의 유저가 DB에 없을 경우의 에러",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "number"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "예상 하지 못한 오류",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "number"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/login": {
      "post": {
        "description": "입력된 회원정보를 Users DB에서 확인하여, Token을 발급해 쿠키에 저장해준다.",
        "tags": [
          "auth"
        ],
        "requestBody": {
          "description": "로그인할 유저 정보",
          "required": true,
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string"
                  },
                  "password": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "성공적으로 토큰 발급"
          },
          "400": {
            "description": "ID, PW 값이 없는 잘못된 요청",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "number"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "ID를 찾을 수 없는 경우",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "number"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "PW가 틀린 경우",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "number"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "예상 하지 못한 오류",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "number"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/logout": {
      "post": {
        "description": "발급한 token을 소멸시킨다.",
        "tags": [
          "auth"
        ],
        "responses": {
          "204": {
            "description": "정상적으로 token 삭제 완료"
          }
        }
      }
    },
    "/api/auth/getIntraAuthentication": {
      "get": {
        "description": "42 Api에 API key값을 추가해서 요청한다. redirect 되기에 반환값 확인 불가",
        "tags": [
          "auth"
        ],
        "responses": {
          "302": {
            "description": "정상적으로 42 Api로 이동",
            "headers": {
              "Location": {
                "description": "42 Api 주소로 이동",
                "schema": {
                  "type": "string",
                  "format": "uri"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/intraAuthentication": {
      "get": {
        "description": "42 intra 인증을 실시한다. redirect 되어 들어오기에 반환값 확인 불가.",
        "tags": [
          "auth"
        ],
        "responses": {
          "302": {
            "description": "성공적으로 토큰 발급",
            "headers": {
              "Location": {
                "description": "브라우저에 유저정보를 저장 하는 frontend /auth 주소로 이동",
                "schema": {
                  "type": "string",
                  "format": "uri"
                }
              }
            }
          },
          "400": {
            "description": "ID, PW 값이 없는 잘못된 요청",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "number"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "토큰이 없을 경우, 이미 인증된 회원의 경우 에러",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "number"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "410": {
            "description": "해당 토큰의 유저가 DB에 없을 경우의 에러",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "number"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "예상 하지 못한 오류",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "number"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/book-info/{bookInfoId}/reviews": {
      "get": {
        "description": "책 리뷰 10개를 반환한다. 최종 페이지의 경우 1 <= n <= 10 개의 값이 반환될 수 있다. content에는 리뷰에 대한 정보를, finalPage 에는 해당 페이지가 마지막인지에 대한 여부를 boolean 값으로 반환한다. finalReviewsId는 마지막 리뷰의 Id를 반환하며, 반환할 아이디가 존재하지 않는 경우에는 해당 인자를 반환하지 않는다.",
        "tags": [
          "bookInfo/reviews"
        ],
        "parameters": [
          {
            "name": "bookInfoId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "number"
            },
            "description": "bookInfoId에 해당 하는 리뷰 페이지를 반환한다."
          },
          {
            "name": "reviewsId",
            "in": "query",
            "schema": {
              "type": "number"
            },
            "required": false,
            "description": "해당 reviewsId를 조건으로 asc 기준 이후, desc 기준 이전의 페이지를 반환한다. 기본값은 첫 페이지를 반환한다."
          },
          {
            "name": "sort",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "required": false,
            "description": "asc, desc 값을 통해 시간순으로 정렬된 페이지를 반환한다. 기본값은 asd으로 한다."
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "number"
            },
            "description": "한 페이지에서 몇 개의 게시글을 가져올 지 결정한다. [default = 10]"
          }
        ],
        "responses": {
          "200": {
            "description": "성공적으로 리뷰 페이지 반환",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "examples": {
                  "default(bookInfoId = 1)": {
                    "value": {
                      "items": [
                        {
                          "reviewsId": 1,
                          "reviewerId": 100,
                          "bookInfoId": 1,
                          "title": "클린코드",
                          "nickname": "sechung1",
                          "content": "hello"
                        },
                        {
                          "reviewsId": 2,
                          "reviewerId": 101,
                          "bookInfoId": 1,
                          "title": "클린코드",
                          "nickname": "sechung2",
                          "content": "hello"
                        },
                        {
                          "reviewsId": 3,
                          "reviewerId": 102,
                          "bookInfoId": 1,
                          "title": "클린코드",
                          "nickname": "sechung3",
                          "content": "hello"
                        },
                        {
                          "reviewsId": 4,
                          "reviewerId": 103,
                          "bookInfoId": 1,
                          "title": "클린코드",
                          "nickname": "sechung4",
                          "content": "hello"
                        },
                        {
                          "reviewsId": 5,
                          "reviewerId": 104,
                          "bookInfoId": 1,
                          "title": "클린코드",
                          "nickname": "sechung5",
                          "content": "hello"
                        }
                      ],
                      "meta": {
                        "totalItems": 100,
                        "itemsPerPage": 5,
                        "totalPages": 20,
                        "finalPage": false,
                        "finalReviewsId": 104
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "적절하지 않은 인자값이 들어온 경우의 에러",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "examples": {
                  "적절하지 않는 reviewsId 값": {
                    "value": {
                      "errorCode": 800
                    }
                  },
                  "적절하지 않는 bookInfoId 값": {
                    "value": {
                      "errorCode": 2
                    }
                  },
                  "적절하지 않는 sort 값": {
                    "value": {
                      "errorCode": 2
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/books/info/search": {
      "get": {
        "description": "책 정보를 검색하여 가져온다.",
        "tags": [
          "books"
        ],
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "description": "검색어",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "sort",
            "in": "query",
            "description": "정렬 기준",
            "schema": {
              "type": "string",
              "enum": [
                "title",
                "popular",
                "new"
              ]
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "페이지 수",
            "required": true,
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "한 페이지 표시 개수",
            "required": true,
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "category",
            "in": "query",
            "description": "검색할 카테고리",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "검색 결과를 반환한다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "description": "검색된 책들의 목록",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "description": "고유 id",
                            "type": "integer",
                            "example": 340
                          },
                          "title": {
                            "description": "제목",
                            "type": "string",
                            "example": "한눈에 보이는 무료 글꼴 가이드: 영어편"
                          },
                          "author": {
                            "description": "저자",
                            "type": "string",
                            "example": "탁연상"
                          },
                          "publisher": {
                            "description": "출판사",
                            "type": "string",
                            "example": "DigitalNew"
                          },
                          "isbn": {
                            "description": "책의 isbn",
                            "type": "string",
                            "example": 9791195982394
                          },
                          "image": {
                            "description": "표지 사진",
                            "type": "string",
                            "example": "https://image.kyobobook.co.kr/images/book/xlarge/394/x9791195982394.jpg"
                          },
                          "publishedAt": {
                            "description": "출판일자",
                            "type": "string",
                            "format": "date",
                            "example": "2020-05-31T15:00:00.000Z"
                          },
                          "createdAt": {
                            "description": "생성일자",
                            "type": "string",
                            "format": "date",
                            "example": "2021-12-07T11:06:48.861Z"
                          },
                          "updatedAt": {
                            "description": "갱신일자",
                            "type": "string",
                            "format": "date",
                            "example": "2022-03-06T09:29:04.340Z"
                          },
                          "lendingCnt": {
                            "description": "대출 횟수",
                            "type": "integer",
                            "example": 0
                          }
                        }
                      }
                    },
                    "categories": {
                      "description": "검색된 목록의 카테고리 분류",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "name": {
                            "description": "카테고리 이름",
                            "type": "string",
                            "example": "예술"
                          },
                          "count": {
                            "description": "검색된 개수",
                            "type": "integer",
                            "example": 1
                          }
                        }
                      }
                    },
                    "meta": {
                      "description": "책 수와 관련된 정보",
                      "type": "object",
                      "properties": {
                        "totalItems": {
                          "description": "전체 검색 결과 수",
                          "type": "integer",
                          "example": 1
                        },
                        "itemCount": {
                          "description": "현재 페이지 검색 결과 수",
                          "type": "integer",
                          "example": 1
                        },
                        "itemsPerPage": {
                          "description": "페이지 당 검색 결과 수",
                          "type": "integer",
                          "example": 1
                        },
                        "totalPages": {
                          "description": "전체 결과 페이지 수",
                          "type": "integer",
                          "example": 1
                        },
                        "currentPage": {
                          "description": "현재 페이지",
                          "type": "integer",
                          "example": 1
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "query, page, limit 중 하나 이상이 없다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "description": "error description",
                  "example": {
                    "errorCode": 300
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/books/info": {
      "get": {
        "description": "책 정보를 기준에 따라 정렬한다. 정렬기준이 popular일 경우 당일으로부터 42일간 인기순으로 한다.",
        "tags": [
          "books"
        ],
        "parameters": [
          {
            "name": "sort",
            "in": "query",
            "description": "정렬 기준",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "new",
                "popular"
              ]
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "한 페이지 표시 개수",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "기준에 따라 정렬된 책들을 반환한다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "description": "정렬된 책들의 목록",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "description": "고유 id",
                            "type": "integer",
                            "example": 340
                          },
                          "title": {
                            "description": "제목",
                            "type": "string",
                            "example": "한눈에 보이는 무료 글꼴 가이드: 영어편"
                          },
                          "author": {
                            "description": "저자",
                            "type": "string",
                            "example": "탁연상"
                          },
                          "publisher": {
                            "description": "출판사",
                            "type": "string",
                            "example": "DigitalNew"
                          },
                          "isbn": {
                            "description": "책의 isbn",
                            "type": "string",
                            "example": 9791195982394
                          },
                          "image": {
                            "description": "표지 사진",
                            "type": "string",
                            "example": "https://image.kyobobook.co.kr/images/book/xlarge/394/x9791195982394.jpg"
                          },
                          "publishedAt": {
                            "description": "출판일자",
                            "type": "string",
                            "format": "date",
                            "example": "2020-05-31T15:00:00.000Z"
                          },
                          "createdAt": {
                            "description": "생성일자",
                            "type": "string",
                            "format": "date",
                            "example": "2021-12-07T11:06:48.861Z"
                          },
                          "updatedAt": {
                            "description": "갱신일자",
                            "type": "string",
                            "format": "date",
                            "example": "2022-03-06T09:29:04.340Z"
                          },
                          "lendingCnt": {
                            "description": "전체기간동안 책이 빌려진 횟수",
                            "type": "number",
                            "example": 1
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "클라이언트 오류",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "description": "error description",
                  "example": {
                    "errorCode": 300
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/books/info/{id}": {
      "get": {
        "description": "book_info테이블의 ID기준으로 책 한 종류의 정보를 가져온다.",
        "tags": [
          "books"
        ],
        "parameters": [
          {
            "required": true,
            "name": "id",
            "in": "path",
            "description": "책의 id",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "조회 결과를 반환한다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "description": "책의 id",
                      "type": "integer",
                      "example": 4261
                    },
                    "title": {
                      "description": "제목",
                      "type": "string",
                      "example": "12가지 인생의 법칙"
                    },
                    "author": {
                      "description": "저자",
                      "type": "string",
                      "example": "조던 B. 피터슨"
                    },
                    "publisher": {
                      "description": "출판사",
                      "type": "string",
                      "example": "메이븐"
                    },
                    "image": {
                      "description": "이미지 주소",
                      "type": "string",
                      "nullable": true,
                      "example": "https://search1.kakaocdn.net/thumb/R120x174.q85/?fname=http%3A%2F%2Ft1.daumcdn.net%2Flbook%2Fimage%2F3943658%3Ftimestamp%3D20210706194852"
                    },
                    "category": {
                      "description": "카테고리",
                      "type": "string",
                      "example": "프로그래밍"
                    },
                    "publishedAt": {
                      "description": "출판일자",
                      "type": "string",
                      "example": "2018년 10월"
                    },
                    "isbn": {
                      "description": "isbn",
                      "type": "string",
                      "example": "9791196067694"
                    },
                    "books": {
                      "description": "비치된 책들",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "description": "실물 책의 id",
                            "type": "integer",
                            "example": 3
                          },
                          "callSign": {
                            "description": "청구기호",
                            "type": "string",
                            "example": "h1.18.v1.c1"
                          },
                          "donator": {
                            "description": "책의 기부자",
                            "type": "string",
                            "nullable": true,
                            "example": "seongyle"
                          },
                          "status": {
                            "description": "책의 상태 (0:양호 1:분실 2:파손 3:지정도서)",
                            "type": "number",
                            "example": 1
                          },
                          "dueDate": {
                            "description": "반납 예정 일자, 대출가능 시 '-'",
                            "type": "string", "format": "date",
                            "example": "21.08.05"
                          },
                          "isLendable": {
                            "description": "책의 대출가능여부",
                            "type": "boolean",
                            "example": 1
                          },
                          "isReserved": {
                            "description": "책의 예약 여부",
                            "type": "boolean",
                            "example": 1
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400_case1": {
            "description": "id가 숫자가 아니다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "description": "error description",
                  "example": {
                    "errorCode": 300
                  }
                }
              }
            }
          },
          "400_case2": {
            "description": "유효하지않은 infoId 값.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "description": "error description",
                  "example": {
                    "errorCode": 304
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/books/search": {
      "get": {
        "description": "정보를 검색하여 가져온다. 책이 대출할 수 있는지 확인 할 수 있음",
        "tags": [
          "books"
        ],
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "description": "검색어",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "페이지 수",
            "required": true,
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "한 페이지 표시 개수",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "검색 결과를 반환한다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "description": "검색된 책들의 목록",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "bookInfoId": {
                            "description": "고유 bookInfo id",
                            "type": "integer",
                            "example": 55
                          },
                          "title": {
                            "description": "제목",
                            "type": "string",
                            "example": "chanheki search"
                          },
                          "author": {
                            "description": "저자",
                            "type": "string",
                            "example": "김찬희"
                          },
                          "publisher": {
                            "description": "출판사",
                            "type": "string",
                            "example": "DigitalNew"
                          },
                          "publishedAt": {
                            "description": "출판일자",
                            "type": "string",
                            "example": 20200505
                          },
                          "isbn": {
                            "description": "책의 isbn",
                            "type": "string",
                            "example": 9791195982394
                          },
                          "callSign": {
                            "description": "청구 기호",
                            "type": "string",
                            "example": "c1.99.v1.c9"
                          },
                          "image": {
                            "description": "이미지 URL 주소",
                            "type": "string",
                            "example": "이미지 주소"
                          },
                          "bookId": {
                            "description": "Book Id",
                            "type": "integer",
                            "example": "1"
                          },
                          "status": {
                            "description": "Book status",
                            "type": "integer",
                            "example": "2"
                          },
                          "categoryId": {
                            "description": "카데고리 Id",
                            "type": "integer",
                            "example": 5
                          },
                          "category": {
                            "description": "카데고리",
                            "type": "string",
                            "example": "기술교양"
                          },
                          "isLendable": {
                            "description": "대출 가능 여부",
                            "type": "boolean",
                            "example": 1
                          }
                        }
                      }
                    },
                    "meta": {
                      "description": "책 수와 관련된 정보",
                      "type": "object",
                      "properties": {
                        "totalItems": {
                          "description": "전체 검색 결과 수",
                          "type": "integer",
                          "example": 1
                        },
                        "itemCount": {
                          "description": "현재 페이지 검색 결과 수",
                          "type": "integer",
                          "example": 1
                        },
                        "itemsPerPage": {
                          "description": "페이지 당 검색 결과 수",
                          "type": "integer",
                          "example": 1
                        },
                        "totalPages": {
                          "description": "전체 결과 페이지 수",
                          "type": "integer",
                          "example": 1
                        },
                        "currentPage": {
                          "description": "현재 페이지",
                          "type": "integer",
                          "example": 1
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "query, page, limit 중 하나 이상이 없다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "description": "error description",
                  "example": {
                    "errorCode": 300
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/books/create": {
      "post": {
        "description": "책 정보를 생성한다. bookInfo가 있으면 book에만 insert한다.",
        "tags": [
          "books"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string",
                    "nullable": false,
                    "example": "작별인사 (김영하 장편소설)"
                  },
                  "isbn": {
                    "type": "string",
                    "nullable": true,
                    "example": 9788065960874
                  },
                  "author": {
                    "type": "string",
                    "nullable": false,
                    "example": "김영하"
                  },
                  "publisher": {
                    "type": "string",
                    "nullable": false,
                    "example": "복복서가"
                  },
                  "image": {
                    "type": "string",
                    "nullable": true,
                    "example": "https://bookthumb-phinf.pstatic.net/cover/223/538/22353804.jpg?type=m1&udate=20220608"
                  },
                  "categoryId": {
                    "type": "string",
                    "nullable": false,
                    "example": 1
                  },
                  "pubdate": {
                    "type": "string",
                    "nullable": false,
                    "example": "20220502"
                  },
                  "donator": {
                    "type": "string",
                    "nullable": true,
                    "example": "seongyle"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "책 정보 정상적으로 insert됨.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "description": "성공했을 때 삽인된 callsign 값을 반환합니다.",
                  "example": {
                    "callsign": "c11.22.v1.c2"
                  }
                }
              }
            }
          },
          "실패 케이스 1": {
            "description": "예상치 못한 에러로 책 정보 insert에 실패함.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "example": {
                    "errorCode": 308
                  }
                }
              }
            }
          },
          "실패 케이스 2": {
            "description": "보내준 카테고리 ID에 해당하는 callsign을 찾을 수 없음",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "example": {
                    "errorCode": 309
                  }
                }
              }
            }
          },
          "실패 케이스 3": {
            "description": "입력한 pubdate가 알맞은 형식이 아님. 기대하는 형식 \"20220807\"",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "example": {
                    "errorCode": 311
                  }
                }
              }
            }
          }
        }
      },
      "get": {
        "description": "책 생성을 위한 정보를 반환합니다.",
        "tags": [
          "books"
        ],
        "parameters": [
          {
            "name": "isbnQuery",
            "in": "query",
            "description": "isbn번호",
            "required": true,
            "schema": {
              "type": "string",
              "example": 9791191114225
            }
          }
        ],
        "responses": {
          "200": {
            "description": "국립중앙도서관에서 ISBN으로 검색한뒤에 책정보를 반환",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "description": "ISBN으로 국립중앙도서관에서 검색후에 정보를 반환, 이미지는 교보문고에서 가지고 옴",
                  "properties": {
                    "bookInfo": {
                      "type": "object",
                      "properties": {
                        "title": {
                          "description": "책의 제목",
                          "nullable": false,
                          "type": "string",
                          "example": "작별인사"
                        },
                        "image": {
                          "description": "책 표지 이미지 주소",
                          "nullable": true,
                          "type": "string",
                          "example": "http://image.kyobobook.co.kr/images/book/xlarge/225/x9791191114225.jpg"
                        },
                        "author": {
                          "description": "저자",
                          "nullable": false,
                          "type": "string",
                          "example": "지은이: 김영하"
                        },
                        "category": {
                          "description": "십진분류법상 대분류",
                          "nullable": true,
                          "type": "string",
                          "example": "8"
                        },
                        "isbn": {
                          "description": "ISBN 번호",
                          "nullable": false,
                          "type": "string",
                          "example": "9791191114225"
                        },
                        "publisher": {
                          "description": "출판사",
                          "nullable": false,
                          "type": "string",
                          "example": "복복서가"
                        },
                        "pubdate": {
                          "description": "출판일자",
                          "nullable": false,
                          "type": "string",
                          "format": "date",
                          "example": "20220502"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "실패 케이스 1": {
            "description": "국립중앙 도서관 API에서 ISBN 검색이 실패",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "example": {
                    "errorCode": 303
                  }
                }
              }
            }
          },
          "실패 케이스 2": {
            "description": "네이버 책검색 API에서 ISBN 검색이 실패",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "example": {
                    "errorCode": 310
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/books/{id}": {
      "get": {
        "description": "book테이블의 ID기준으로 책 한 종류의 정보를 가져온다.",
        "tags": [
          "books"
        ],
        "parameters": [
          {
            "required": true,
            "name": "id",
            "in": "path",
            "description": "book 테이블의 id",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "조회 결과를 반환한다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "description": "book테이블의 id",
                      "type": "integer",
                      "example": 4261
                    },
                    "title": {
                      "description": "제목",
                      "type": "string",
                      "example": "12가지 인생의 법칙"
                    },
                    "author": {
                      "description": "저자",
                      "type": "string",
                      "example": "조던 B. 피터슨"
                    },
                    "publisher": {
                      "description": "출판사",
                      "type": "string",
                      "example": "메이븐"
                    },
                    "image": {
                      "description": "이미지 주소",
                      "type": "string",
                      "example": "https://search1.kakaocdn.net/thumb/R120x174.q85/?fname=http%3A%2F%2Ft1.daumcdn.net%2Flbook%2Fimage%2F3943658%3Ftimestamp%3D20210706194852"
                    },
                    "category": {
                      "description": "카테고리",
                      "type": "string",
                      "example": "프로그래밍"
                    },
                    "publishedAt": {
                      "description": "출판일자",
                      "type": "string",
                      "example": "2018년 10월"
                    },
                    "isbn": {
                      "description": "isbn",
                      "type": "string",
                      "example": "9791196067694"
                    },
                    "callSign": {
                      "description": "청구기호",
                      "type": "string",
                      "example": "h1.18.v1.c1"
                    },
                    "donator": {
                      "description": "책의 기부자",
                      "type": "string",
                      "example": "seongyle"
                    },
                    "dueDate": {
                      "description": "반납 예정 일자, 대출가능 시 '-'",
                      "type": "string", "format": "date",
                      "example": "21.08.05"
                    },
                    "isLendable": {
                      "description": "책의 대출가능여부",
                      "type": "boolean",
                      "example": 1
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/books/info/{bookInfoId}/like": {
      "post": {
        "tags": [
          "like"
        ],
        "summary": "Add a new like to the book",
        "operationId": "addLike",
        "parameters": [
          {
            "name": "bookInfoId",
            "in": "path",
            "description": "book_info 테이블의 id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "description": "성공했을 때 생성된 like 데이터를 반환합니다.",
                  "properties": {
                    "userId": {
                      "type": "integer",
                      "description": "좋아요를 누른 유저의 id"
                    },
                    "bookInfoId": {
                      "type": "integer",
                      "description": "좋아요할 bookInfo의 id"
                    }
                  },
                  "example": {
                    "userId": 123,
                    "bookInfoId": 456
                  }
                }
              }
            }
          },
          "실패 케이스 1": {
            "description": "bookInfoId가 유효하지 않음",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "example": {
                    "errorCode": 601
                  }
                }
              }
            }
          },
          "실패 케이스 2": {
            "description": "중복된 like데이터가 이미 존재함.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "example": {
                    "errorCode": 602
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "like"
        ],
        "summary": "Delete a like",
        "operationId": "deleteLike",
        "parameters": [
          {
            "name": "bookInfoId",
            "in": "path",
            "description": "book_info 테이블의 id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "errorcase-1": {
            "description": "bookInfoId가 유효하지 않음",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "example": {
                    "errorCode": 601
                  }
                }
              }
            }
          },
          "errorcase-2": {
            "description": "존재하지 않는 좋아요데이터를 삭제하려 함.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "example": {
                    "errorCode": 603
                  }
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "like"
        ],
        "summary": "Get like info",
        "description": "Get info about likenum and whether user press like button",
        "operationId": "findLikeInfo",
        "parameters": [
          {
            "name": "bookInfoId",
            "in": "path",
            "description": "book_info 테이블의 id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "description": "책에 대한 좋아요 정보를 가져옵니다.",
                  "example": {
                    "bookInfoId": 123,
                    "isLiked": true,
                    "likeNum": 15
                  },
                  "properties": {
                    "bookInfoId": {
                      "type": "integer",
                      "description": "좋아요할 bookInfo의 id"
                    },
                    "isLiked": {
                      "type": "boolean",
                      "description": "사용자가 이 책에 대하여 좋아요를 눌렀는 지 여부"
                    },
                    "likeNum": {
                      "type": "integer",
                      "description": "이 책에 눌린 좋아요의 수"
                    }
                  }
                }
              }
            }
          },
          "errorcase-1": {
            "description": "bookInfoId가 유효하지 않음",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "example": {
                    "errorCode": 601
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/books/update": {
      "patch": {
        "description": "책 정보를 수정합니다. book_info table or book table",
        "tags": [
          "books"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "bookInfoId": {
                    "description": "bookInfoId",
                    "type": "integer",
                    "nullable": false,
                    "example": 1
                  },
                  "categoryId": {
                    "description": "categoryId",
                    "type": "integer",
                    "nullable": false,
                    "example": 1
                  },
                  "title": {
                    "description": "제목",
                    "type": "string",
                    "nullable": true,
                    "example": "작별인사 (김영하 장편소설)"
                  },
                  "author": {
                    "description": "저자",
                    "type": "string",
                    "nullable": true,
                    "example": "김영하"
                  },
                  "publisher": {
                    "description": "출판사",
                    "type": "string",
                    "nullable": true,
                    "example": "복복서가"
                  },
                  "publishedAt": {
                    "description": "출판연월",
                    "type": "string",
                    "nullable": true,
                    "example": "20200505"
                  },
                  "image": {
                    "description": "표지이미지",
                    "type": "string",
                    "nullable": true,
                    "example": "https://bookthumb-phinf.pstatic.net/cover/223/538/22353804.jpg?type=m1&udate=20220608"
                  },
                  "bookId": {
                    "description": "bookId",
                    "type": "integer",
                    "nullable": false,
                    "example": 1
                  },
                  "callSign": {
                    "description": "청구기호",
                    "type": "string",
                    "nullable": true,
                    "example": "h1.18.v1.c1"
                  },
                  "status": {
                    "description": "도서 상태",
                    "type": "integer",
                    "nullable": false,
                    "example": 0
                  }
                }
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "성공했을 때 http 상태코드 204(NO_CONTENT) 값을 반환."
          },
          "실패 케이스 1": {
            "description": "예상치 못한 에러로 책 정보 patch에 실패.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "example": {
                    "errorCode": 312
                  }
                }
              }
            }
          },
          "실패 케이스 2": {
            "description": "수정할 DATA가 적어도 한 개는 필요. 수정할 DATA가 없음\"",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "example": {
                    "errorCode": 313
                  }
                }
              }
            }
          },
          "실패 케이스 3": {
            "description": "입력한 publishedAt filed가 알맞은 형식이 아님. 기대하는 형식 \"20220807\"",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "example": {
                    "errorCode": 311
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/histories": {
      "get": {
        "description": "현재까지의 대출 기록을 최신순으로 가져온다. 사서라면 모든 사용자의 기록을, 사서가 아니라면 본인의 기록만 볼  수 있다.",
        "tags": [
          "histories"
        ],
        "parameters": [
          {
            "name": "who",
            "in": "query",
            "description": "대출/반납의 기록 범위",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "all",
                "my"
              ]
            }
          },
          {
            "name": "query",
            "in": "query",
            "description": "검색어",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "type",
            "in": "query",
            "description": "어떤 값들로 검색하고 싶은지 결정하는 필터",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "user",
                "title",
                "callsign",
                "bookId"
              ]
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "페이지 수",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "한 페이지 표시 개수",
            "required": false,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "대출 기록을 반환한다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "description": "검색된 대출 기록들의 목록",
                      "type": "array",
                      "example": [
                        {
                          "id": 135,
                          "lendingCondition": "",
                          "login": "chanheki",
                          "returningCondition": "",
                          "penaltyDays": 0,
                          "callSign": "K23.17.v1.c1",
                          "title": "모두의 데이터 과학 with 파이썬",
                          "bookInfoId": "123",
                          "createdAt": "2022-12-07T10:24:57.708Z",
                          "returnedAt": "2022-12-07T10:24:57.708Z",
                          "dueDate": "2022-12-21T10:24:57.708Z",
                          "lendingLibrarianNickName": "chanheki",
                          "returningLibrarianNickname": null
                        },
                        {
                          "id": 136,
                          "lendingCondition": "",
                          "login": "seongyle1",
                          "penaltyDays": 0,
                          "callSign": "C5.13.v1.c1",
                          "title": "TCP IP 윈도우 소켓 프로그래밍(IT Cookbook 한빛 교재 시리즈 124)",
                          "bookInfoId": "123",
                          "createdAt": "2022-10-28T10:24:57.708Z",
                          "returnedAt": null,
                          "dueDate": "2022-11-11T10:24:57.708Z",
                          "lendingLibrarianNickName": "chanheki",
                          "returningLibrarianNickname": "seongyle",
                          "image": "https://image.kyobobook.co.kr/images/book/xlarge/444/x9788998756444.jpg"
                        }
                      ],
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "description": "고유 id",
                            "type": "integer",
                            "example": 777
                          },
                          "lendingCondition": {
                            "description": "대출시 책 상태",
                            "type": "string",
                            "example": "이상 없음"
                          },
                          "login": {
                            "description": "대출자 아이디",
                            "type": "string",
                            "example": "chanheki"
                          },
                          "returningCondition": {
                            "description": "반납시 책 상태",
                            "type": "string",
                            "example": "이상 없음"
                          },
                          "penaltyDays": {
                            "description": "연체 일",
                            "type": "integer",
                            "example": 777
                          },
                          "callSign": {
                            "description": "청구 기호",
                            "type": "string",
                            "example": "C5.13.v1.c1"
                          },
                          "title": {
                            "description": "책 제목",
                            "type": "string",
                            "example": "TCP IP 윈도우 소켓 프로그래밍(IT Cookbook 한빛 교재 시리즈 )"
                          },
                          "bookInfoId": {
                            "description": "book_info의 id",
                            "type": "integer",
                            "example": 123
                          },
                          "createdAt": {
                            "description": "lending 생성 일시",
                            "type": "string", "format": "date",
                            "example": "2022-05-05"
                          },
                          "returnedAt": {
                            "description": "반납 일시",
                            "type": "string", "format": "date",
                            "example": "2022-05-05"
                          },
                          "dueDate": {
                            "description": "반납 마감 일시",
                            "type": "string", "format": "date",
                            "example": "2022-05-05"
                          },
                          "lendingLibrarianNickName": {
                            "description": "대출해준 사서 이름",
                            "type": "string",
                            "example": "chanheki"
                          },
                          "returningLibrarianNickname": {
                            "description": "반납해준 사서 이름(없으면 null)",
                            "type": "string",
                            "example": "seongyle"
                          },
                          "image": {
                            "description": "책의 이미지 주소",
                            "type": "string",
                            "example": "https://image.kyobobook.co.kr/images/book/xlarge/444/x9788998756444.jpg"
                          }
                        }
                      }
                    },
                    "meta": {
                      "description": "대출 기록 수와 관련된 정보",
                      "type": "object",
                      "properties": {
                        "totalItems": {
                          "description": "전체 대출 기록 결과 수",
                          "type": "integer",
                          "example": 25
                        },
                        "itemCount": {
                          "description": "현재 대출 기록 결과 수",
                          "type": "integer",
                          "example": 5
                        },
                        "itemsPerPage": {
                          "description": "페이지 대출 기록 결과 수",
                          "type": "integer",
                          "example": 5
                        },
                        "totalPages": {
                          "description": "전체 대출 기록 페이지 수",
                          "type": "integer",
                          "example": 5
                        },
                        "currentPage": {
                          "description": "현재 대출 기록 페이지",
                          "type": "integer",
                          "example": 1
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "사서권한 없은 유저가 전체 대출/반납 기록을 조회하려고 함",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errorCode": {
                      "type": "integer",
                      "example": 700
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/lendings": {
      "post": {
        "tags": [
          "lendings"
        ],
        "summary": "대출 기록 생성",
        "description": "대출 기록을 생성한다.",
        "requestBody": {
          "description": "bookId와 userId는 각각 대출할 도서와 대출할 회원의 pk, condition은 대출 당시 책 상태를 의미한다.",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "bookId": {
                    "type": "integer",
                    "example": 33
                  },
                  "userId": {
                    "type": "integer",
                    "example": 45
                  },
                  "condition": {
                    "type": "string",
                    "example": "이상 없음"
                  }
                },
                "required": [
                  "bookId",
                  "userId",
                  "condition"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "생성된 대출기록의 반납일자를 반환.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "dueDate": {
                      "type": "string",
                      "format": "date",
                      "example": "2022-12-12"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청. 잘못 입력된 json key, 유효하지 않은 value 등",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errorCode": {
                      "type": "integer",
                      "example": 2
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "대출을 생성할 권한이 없는 사용자"
          },
          "500": {
            "description": "db 에러"
          }
        }
      }
    },
    "/api/lendings/search": {
      "get": {
        "tags": [
          "lendings"
        ],
        "summary": "대출 기록 정보 조회",
        "description": "대출 기록의 정보를 검색하여 보여준다.",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "검색 결과의 페이지",
            "schema": {
              "type": "integer",
              "default": 1,
              "example": 3
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "검색 결과 한 페이지당 보여줄 결과물의 개수",
            "schema": {
              "type": "integer",
              "default": 5,
              "example": 3
            }
          },
          {
            "name": "sort",
            "in": "query",
            "description": "검색 결과를 정렬할 기준",
            "schema": {
              "type": "string",
              "enum": [
                "new",
                "old"
              ],
              "default": "new"
            }
          },
          {
            "name": "query",
            "in": "query",
            "description": "대출 기록에서 검색할 단어, 검색 가능한 필드 [user, title, callSign, bookId]",
            "schema": {
              "type": "string",
              "example": "파이썬"
            }
          },
          {
            "name": "type",
            "in": "query",
            "description": "query를 조회할 항목",
            "schema": {
              "type": "string",
              "enum": [
                "user",
                "title",
                "callSign",
                "bookId"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "대출 기록을 반환한다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "description": "검색된 책들의 목록",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "description": "대출 고유 id",
                            "type": "integer"
                          },
                          "condition": {
                            "description": "대출 당시 책 상태",
                            "type": "string"
                          },
                          "login": {
                            "description": "대출한 카뎃의 인트라 id",
                            "type": "string"
                          },
                          "penaltyDays": {
                            "description": "현재 대출 기록의 연체 일수",
                            "type": "integer"
                          },
                          "callSign": {
                            "description": "대출된 책의 청구기호",
                            "type": "string"
                          },
                          "title": {
                            "description": "대출된 책의 제목",
                            "type": "string"
                          },
                          "createdAt": {
                            "type": "string",
                            "format": "date"
                          },
                          "dueDate": {
                            "description": "반납기한",
                            "type": "string",
                            "format": "date"
                          }
                        }
                      },
                      "example": [
                        {
                          "id": 2,
                          "condition": "양호",
                          "login": "minkykim",
                          "penaltyDays": 0,
                          "callSign": "O40.15.v1.c1",
                          "title": "소프트웨어 장인(로버트 C. 마틴 시리즈)",
                          "dueDate": "2021.09.20"
                        },
                        {
                          "id": 42,
                          "condition": "이상없음",
                          "login": "jwoo",
                          "penaltyDays": 2,
                          "callSign": "H19.19.v1.c1",
                          "title": "클린 아키텍처: 소프트웨어 구조와 설계의 원칙",
                          "dueDate": "2022.06.07"
                        }
                      ]
                    },
                    "meta": {
                      "description": "대출 조회 결과에 대한 요약 정보",
                      "type": "object",
                      "properties": {
                        "totalItems": {
                          "description": "전체 대출 검색 결과 건수",
                          "type": "integer",
                          "example": 2
                        },
                        "itemCount": {
                          "description": "현재 페이지 검색 결과 수",
                          "type": "integer",
                          "example": 2
                        },
                        "itemsPerPage": {
                          "description": "페이지 당 검색 결과 수",
                          "type": "integer",
                          "example": 2
                        },
                        "totalPages": {
                          "description": "전체 결과 페이지 수",
                          "type": "integer",
                          "example": 1
                        },
                        "currentPage": {
                          "description": "현재 페이지",
                          "type": "integer",
                          "example": 1
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청. 잘못 입력된 json key, 유효하지 않은 value 등"
          },
          "401": {
            "description": "대출을 조회할 권한이 없는 사용자"
          },
          "500": {
            "description": "db 에러"
          }
        }
      }
    },
    "/api/lendings/{lendingId}": {
      "get": {
        "tags": [
          "lendings"
        ],
        "summary": "특정 대출 기록 조회",
        "description": "특정 대출 기록의 상세 정보를 보여준다.",
        "parameters": [
          {
            "name": "lendingId",
            "in": "path",
            "description": "대출 기록의 고유 아이디",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "대출 기록을 반환한다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "description": "대출 고유 id",
                      "type": "integer",
                      "example": 2
                    },
                    "condition": {
                      "description": "대출 당시 책 상태",
                      "type": "string",
                      "example": "양호"
                    },
                    "createdAt": {
                      "description": "대출 일자(대출 레코드 생성 일자)",
                      "type": "string",
                      "format": "date",
                      "example": "2021.09.06."
                    },
                    "login": {
                      "description": "대출한 카뎃의 인트라 id",
                      "type": "string",
                      "example": "minkykim"
                    },
                    "penaltyDays": {
                      "description": "현재 대출 기록의 연체 일수",
                      "type": "integer",
                      "example": 2
                    },
                    "callSign": {
                      "description": "대출된 책의 청구기호",
                      "type": "string",
                      "example": "H1.13.v1.c1"
                    },
                    "title": {
                      "description": "대출된 책의 제목",
                      "type": "string",
                      "example": "소프트웨어 장인(로버트 C. 마틴 시리즈)"
                    },
                    "image": {
                      "description": "대출된 책의 표지",
                      "type": "string",
                      "example": "https://search1.kakaocdn.net/thumb/R120x174.q85/?fname=http%3A%2F%2Ft1.daumcdn.net%2Flbook%2Fimage%2F1633934%3Ftimestamp%3D20210706193409"
                    },
                    "dueDate": {
                      "description": "반납기한",
                      "type": "string",
                      "format": "date",
                      "example": "2021.09.20"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청. 잘못 입력된 json key, 유효하지 않은 lendingId 등"
          },
          "401": {
            "description": "대출을 조회할 권한이 없는 사용자"
          },
          "500": {
            "description": "db 에러"
          }
        }
      }
    },
    "/api/lendings/return": {
      "patch": {
        "tags": [
          "lendings"
        ],
        "summary": "반납 처리",
        "description": "대출 레코드에 반납 처리를 한다.",
        "requestBody": {
          "description": "lendingId는 대출 고유 아이디, condition은 반납 당시 책 상태",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "lendingId": {
                    "type": "integer"
                  },
                  "condition": {
                    "type": "string"
                  }
                },
                "required": [
                  "lendingId",
                  "condition"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "반납처리 완료, 반납된 책이 예약이 되어있는지 알려줌",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "reservedBook": {
                      "description": "반납된 책이 예약이 되어있는지 알려줌",
                      "type": "boolean",
                      "example": true
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "에러코드 0 dto에러 잘못된 json key, 1 db 에러 알 수 없는 lending id 등",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errorCode": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "알 수 없는 사용자 0 로그인 안 된 유저 1 사서권한없음",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errorCode": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/reservations/count": {
      "get": {
        "tags": [
          "reservations"
        ],
        "summary": "예약 대기 확인",
        "description": "책 예약 대기 수를 확인한다.",
        "parameters": [
          {
            "in": "query",
            "name": "bookInfo",
            "schema": {
              "type": "string"
            },
            "description": "bookInfo에 해당하는 예약 대기 수를 확인할 수 있다."
          }
        ],
        "responses": {
          "200": {
            "description": "예약 대기 정보를 반환한다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "count": {
                      "description": "예약 순위",
                      "type": "integer",
                      "example": 0
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "잘못된 정보를 입력한 경우",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errorCode": {
                      "description": "여러 가지 경우의 에러를 나타내는 코드",
                      "type": "integer",
                      "example": 2
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/reservations": {
      "post": {
        "tags": [
          "reservations"
        ],
        "summary": "유저의 예약 생성",
        "description": "jwt로 인증된 유저가 예약을 생성한다.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "bookInfoId": {
                    "description": "예약 대상이 되는 책 정보의 id",
                    "type": "integer",
                    "example": 34
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "예약한 책에 걸려있는 예약수를 확인한다. (본인이 방금한거 포함)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "count": {
                      "description": "예약 순위",
                      "type": "integer",
                      "example": 2
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "잘못된 정보를 입력한 경우",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errorCode": {
                      "description": "올바르지 않은 입력",
                      "type": "integer",
                      "enum": [2]
                    }
                  }
                }
              }
            }
          },
          "400_case2": {
            "description": "예약에 실패한 경우",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errorCode": {
                      "description": null,
                      "type": "integer",
                      "example": "502(패널티 기간) || 503(대출이 가능한 책) || 504(이미 예약중) || 505(이미 대출중), ..."
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/reservations/search": {
      "get": {
        "tags": [
          "reservations"
        ],
        "summary": "예약 검색",
        "description": "사서는 모든 예약 정보를 조회할 수 있다.",
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "description": "조회하기 위한 검색어 (인트라아이디, 책제목, 청구기호 중 일부)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "페이지 수",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "한 페이지 표시 개수",
            "schema": {
              "type": "integer",
              "default": 5
            }
          },
          {
            "name": "filter",
            "in": "query",
            "description": "조회 범위를 제한하기 위한 필터 옵션",
            "schema": {
              "type": "string",
              "enum": [
                "pending",
                "expired",
                "waiting",
                "all"
              ],
              "default": "pending"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "검색 결과를 반환한다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "description": "검색된 책들의 목록",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "reservationId": {
                            "description": "예약 고유 id",
                            "type": "integer"
                          },
                          "login": {
                            "description": "예약한 사람의 login ID",
                            "type": "string"
                          },
                          "penaltyDays": {
                            "description": "예약한 사람의 연체 정보",
                            "type": "integer"
                          },
                          "title": {
                            "description": "예약된 책 제목",
                            "type": "string"
                          },
                          "image": {
                            "description": "예약된 책 표지 사진",
                            "type": "string"
                          },
                          "callSign": {
                            "description": "예약된 책 청구기호",
                            "type": "string"
                          },
                          "createdAt": {
                            "description": "예약 생성일",
                            "type": "string",
                            "format": "date"
                          },
                          "endAt": {
                            "description": "예약 만료일",
                            "type": "string",
                            "format": "date"
                          },
                          "status": {
                            "description": "예약 상태",
                            "type": "integer"
                          },
                          "userId": {
                            "description": "유저 ID",
                            "type": "integer"
                          },
                          "bookId": {
                            "description": "book id",
                            "type": "integer"
                          }
                        }
                      },
                      "example": [
                        {
                          "reservationId": 2,
                          "login": "doby",
                          "penaltyDays": 3,
                          "title": "컴퓨터 구조",
                          "image": "http://image.kyobobook.co.kr/images/book/xlarge/885/x9791186659885.jpg",
                          "callSign": "A2.24.",
                          "createdAt": "2022.04.23",
                          "endAt": "2022.05.06",
                          "status": 0
                        },
                        {
                          "reservationId": 3,
                          "login": "tkim",
                          "penaltyDays": 0,
                          "title": "코딩도장 튜토리얼로 배우는 python",
                          "image": "http://image.kyobobook.co.kr/images/book/xlarge/885/x9791186659885.jpg",
                          "callSign": "H19.19.v1.c1",
                          "createdAt": "2022.04.03",
                          "endAt": "2022.05.06",
                          "status": 0
                        }
                      ]
                    },
                    "meta": {
                      "description": "예약 건수와 관련된 정보",
                      "type": "object",
                      "properties": {
                        "totalItems": {
                          "description": "전체 예약 검색 결과 건수",
                          "type": "integer",
                          "example": 2
                        },
                        "itemCount": {
                          "description": "현재 페이지 검색 결과 수",
                          "type": "integer",
                          "example": 2
                        },
                        "itemsPerPage": {
                          "description": "페이지 당 검색 결과 수",
                          "type": "integer",
                          "example": 2
                        },
                        "totalPages": {
                          "description": "전체 결과 페이지 수",
                          "type": "integer",
                          "example": 1
                        },
                        "currentPage": {
                          "description": "현재 페이지",
                          "type": "integer",
                          "example": 1
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "query, page, limit, filter중 하나에 유효하지 않은 value가 들어온 경우",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "description": "error description",
                  "example": "query, page, limit, filter 중 하나에 유효하지 않은 value가 들어온 경우"
                }
              }
            }
          },
          "401": {
            "description": "사서 권한 없는 요청"
          }
        }
      }
    },
    "/api/reservations/cancel/{id}": {
      "patch": {
        "tags": [
          "reservations"
        ],
        "summary": "예약 취소",
        "description": "예약을 취소한다.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "예약 고유 아이디",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "예약 취소처리 완료"
          },
          "400": {
            "description": "에러코드 0 dto에러 잘못된 json key 1 존재하지 않는 예약 아이디",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errorCode": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "알 수 없는 사용자"
          }
        }
      }
    },
    "/api/reviews": {
      "post": {
        "description": "책 리뷰를 작성한다. content 길이는 10글자 이상 420글자 이하로 입력하여야 한다.",
        "tags": [
          "reviews"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "bookInfoId": {
                    "type": "number",
                    "nullable": false,
                    "example": 42
                  },
                  "content": {
                    "type": "string",
                    "nullable": false,
                    "example": "책이 좋네요 열글자."
                  }
                },
                "required": [
                  "bookInfoId",
                  "content"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "리뷰가 DB에 정상적으로 insert됨."
          },
          "400": {
            "description": "잘못된 요청.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "examples": {
                  "유효하지 않은 content 길이": {
                    "value": {
                      "errorCode": 801
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "권한 없음.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "examples": {
                  "토큰 누락": {
                    "value": {
                      "errorCode": 100
                    }
                  },
                  "토큰 유저 존재하지 않음": {
                    "value": {
                      "errorCode": 101
                    }
                  },
                  "토큰 만료": {
                    "value": {
                      "errorCode": 108
                    }
                  },
                  "토큰 유효하지 않음": {
                    "value": {
                      "errorCode": 109
                    }
                  }
                }
              }
            }
          }
        }
      },
      "get": {
        "description": "책 리뷰 10개를 반환한다. 최종 페이지의 경우 1 <= n <= 10 개의 값이 반환될 수 있다. content에는 리뷰에 대한 정보를, finalPage 에는 해당 페이지가 마지막인지에 대한 여부를 boolean 값으로 반환한다.",
        "tags": [
          "reviews"
        ],
        "parameters": [
          {
            "name": "titleOrNickname",
            "in": "query",
            "description": "책 제목 또는 닉네임을 검색어로 받는다.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "number"
            },
            "description": "해당하는 페이지를 보여준다.",
            "required": false
          },
          {
            "name": "disabled",
            "in": "query",
            "description": "0이라면 공개 리뷰를, 1이라면 비공개 리뷰를, -1이라면 모든 리뷰를 가져온다.",
            "required": true,
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "한 페이지에서 몇 개의 게시글을 가져올 지 결정한다. [default = 10]",
            "required": false,
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "sort",
            "in": "query",
            "description": "asc, desc 값을 통해 시간순으로 정렬된 페이지를 반환한다.",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "examples": {
                  "bookInfo 기준": {
                    "value": {
                      "items": [
                        {
                          "reviewsId": 1,
                          "reviewerId": 100,
                          "bookInfoId": 1,
                          "content": "hello",
                          "createdAt": "2022-11-09T06:56:15.640Z",
                          "title": "클린코드",
                          "nickname": "sechung",
                          "intraId": "default@student.42seoul.kr"
                        },
                        {
                          "reviewsId": 2,
                          "reviewerId": 101,
                          "bookInfoId": 1,
                          "content": "hello",
                          "createdAt": "2022-11-09T06:56:15.640Z",
                          "title": "클린코드",
                          "nickname": "chanheki",
                          "intraId": "default@student.42seoul.kr"
                        },
                        {
                          "reviewsId": 3,
                          "reviewerId": 102,
                          "bookInfoId": 1,
                          "content": "hello",
                          "createdAt": "2022-11-09T06:56:15.640Z",
                          "title": "클린코드",
                          "nickname": "chanheki",
                          "intraId": "default@student.42seoul.kr"
                        },
                        {
                          "reviewsId": 4,
                          "reviewerId": 103,
                          "bookInfoId": 1,
                          "content": "hello",
                          "createdAt": "2022-11-09T06:56:15.640Z",
                          "title": "클린코드",
                          "nickname": "chanheki",
                          "intraId": "default@student.42seoul.kr"
                        },
                        {
                          "reviewsId": 5,
                          "reviewerId": 104,
                          "bookInfoId": 1,
                          "content": "hello",
                          "createdAt": "2022-11-09T06:56:15.640Z",
                          "title": "클린코드",
                          "nickname": "chanheki",
                          "intraId": "default@student.42seoul.kr"
                        },
                        {
                          "reviewsId": 6,
                          "reviewerId": 105,
                          "bookInfoId": 1,
                          "content": "hello",
                          "createdAt": "2022-11-09T06:56:15.640Z",
                          "title": "클린코드",
                          "nickname": "chanheki",
                          "intraId": "default@student.42seoul.kr"
                        },
                        {
                          "reviewsId": 7,
                          "reviewerId": 106,
                          "bookInfoId": 1,
                          "content": "hello",
                          "createdAt": "2022-11-09T06:56:15.640Z",
                          "title": "클린코드",
                          "nickname": "chanheki",
                          "intraId": "default@student.42seoul.kr"
                        },
                        {
                          "reviewsId": 8,
                          "reviewerId": 107,
                          "bookInfoId": 1,
                          "content": "hello",
                          "createdAt": "2022-11-09T06:56:15.640Z",
                          "title": "클린코드",
                          "nickname": "chanheki",
                          "intraId": "default@student.42seoul.kr"
                        },
                        {
                          "reviewsId": 9,
                          "reviewerId": 108,
                          "bookInfoId": 1,
                          "content": "hello",
                          "createdAt": "2022-11-09T06:56:15.640Z",
                          "title": "클린코드",
                          "nickname": "chanheki",
                          "intraId": "default@student.42seoul.kr"
                        },
                        {
                          "reviewsId": 10,
                          "reviewerId": 109,
                          "bookInfoId": 1,
                          "content": "hello",
                          "createdAt": "2022-11-09T06:56:15.640Z",
                          "title": "클린코드",
                          "nickname": "chanheki",
                          "intraId": "default@student.42seoul.kr"
                        }
                      ],
                      "meta": {
                        "totalItems": 100,
                        "itemCount": 10,
                        "itemsPerPage": 10,
                        "totalPages": 20,
                        "currentPage": 1,
                        "finalPage": false
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "examples": {
                  "적절하지 않는 bookInfoId 값": {
                    "value": {
                      "errorCode": 2
                    }
                  },
                  "적절하지 않는 userId 값": {
                    "value": {
                      "errorCode": 2
                    }
                  },
                  "적절하지 않는 page 값": {
                    "value": {
                      "errorCode": 2
                    }
                  },
                  "적절하지 않는 sort 값": {
                    "value": {
                      "errorCode": 2
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "권한 없음.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "examples": {
                  "토큰 누락": {
                    "value": {
                      "errorCode": 100
                    }
                  },
                  "사서 권한 없음": {
                    "value": {
                      "errorCode": 100
                    }
                  },
                  "토큰 유저 존재하지 않음": {
                    "value": {
                      "errorCode": 101
                    }
                  },
                  "토큰 만료": {
                    "value": {
                      "errorCode": 108
                    }
                  },
                  "토큰 유효하지 않음": {
                    "value": {
                      "errorCode": 109
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/reviews/my-reviews": {
      "get": {
        "description": "자기자신에 대한 모든 Review 데이터를 가져온다. 내부적으로 getReview와 같은 함수를 사용한다.",
        "tags": [
          "reviews"
        ],
        "parameters": [
          {
            "name": "titleOrNickname",
            "in": "query",
            "description": "책 제목 또는 닉네임을 검색어로 받는다.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "number"
            },
            "description": "한 페이지에서 몇 개의 게시글을 가져올 지 결정한다. [default = 10]",
            "required": false
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "number"
            },
            "description": "해당하는 페이지를 보여준다.",
            "required": false
          },
          {
            "name": "sort",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "asd, desc 값을 통해 시간순으로 정렬된 페이지를 반환한다.",
            "required": false
          },
          {
            "name": "isMyReview",
            "in": "query",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "true 라면 마이페이지 용도의 리뷰를, false 라면 모든 리뷰를 가져온다."
          }
        ],
        "responses": {
          "200": {
            "description": "성공적으로 리뷰를 가져왔을 때.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "examples": {
                  "bookInfo 기준": {
                    "value": {
                      "items": [
                        {
                          "reviewsId": 1,
                          "reviewerId": 100,
                          "bookInfoId": 1,
                          "content": "hello",
                          "createdAt": "2022-11-09T06:56:15.640Z",
                          "title": "클린코드",
                          "nickname": "sechung",
                          "intraId": "default@student.42seoul.kr"
                        },
                        {
                          "reviewsId": 2,
                          "reviewerId": 101,
                          "bookInfoId": 1,
                          "content": "hello",
                          "createdAt": "2022-11-09T06:56:15.640Z",
                          "title": "클린코드",
                          "nickname": "chanheki",
                          "intraId": "default@student.42seoul.kr"
                        },
                        {
                          "reviewsId": 3,
                          "reviewerId": 102,
                          "bookInfoId": 1,
                          "content": "hello",
                          "createdAt": "2022-11-09T06:56:15.640Z",
                          "title": "클린코드",
                          "nickname": "chanheki",
                          "intraId": "default@student.42seoul.kr"
                        },
                        {
                          "reviewsId": 4,
                          "reviewerId": 103,
                          "bookInfoId": 1,
                          "content": "hello",
                          "createdAt": "2022-11-09T06:56:15.640Z",
                          "title": "클린코드",
                          "nickname": "chanheki",
                          "intraId": "default@student.42seoul.kr"
                        },
                        {
                          "reviewsId": 5,
                          "reviewerId": 104,
                          "bookInfoId": 1,
                          "content": "hello",
                          "createdAt": "2022-11-09T06:56:15.640Z",
                          "title": "클린코드",
                          "nickname": "chanheki",
                          "intraId": "default@student.42seoul.kr"
                        },
                        {
                          "reviewsId": 6,
                          "reviewerId": 105,
                          "bookInfoId": 1,
                          "content": "hello",
                          "createdAt": "2022-11-09T06:56:15.640Z",
                          "title": "클린코드",
                          "nickname": "chanheki",
                          "intraId": "default@student.42seoul.kr"
                        },
                        {
                          "reviewsId": 7,
                          "reviewerId": 106,
                          "bookInfoId": 1,
                          "content": "hello",
                          "createdAt": "2022-11-09T06:56:15.640Z",
                          "title": "클린코드",
                          "nickname": "chanheki",
                          "intraId": "default@student.42seoul.kr"
                        },
                        {
                          "reviewsId": 8,
                          "reviewerId": 107,
                          "bookInfoId": 1,
                          "content": "hello",
                          "createdAt": "2022-11-09T06:56:15.640Z",
                          "title": "클린코드",
                          "nickname": "chanheki",
                          "intraId": "default@student.42seoul.kr"
                        },
                        {
                          "reviewsId": 9,
                          "reviewerId": 108,
                          "bookInfoId": 1,
                          "content": "hello",
                          "createdAt": "2022-11-09T06:56:15.640Z",
                          "title": "클린코드",
                          "nickname": "chanheki",
                          "intraId": "default@student.42seoul.kr"
                        },
                        {
                          "reviewsId": 10,
                          "reviewerId": 109,
                          "bookInfoId": 1,
                          "content": "hello",
                          "createdAt": "2022-11-09T06:56:15.640Z",
                          "title": "클린코드",
                          "nickname": "chanheki",
                          "intraId": "default@student.42seoul.kr"
                        }
                      ],
                      "meta": {
                        "totalItems": 100,
                        "itemCount": 10,
                        "itemsPerPage": 10,
                        "totalPages": 20,
                        "currentPage": 1,
                        "finalPage": false
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "examples": {
                  "적절하지 않는 page 값": {
                    "value": {
                      "errorCode": 2
                    }
                  },
                  "적절하지 않는 sort 값": {
                    "value": {
                      "errorCode": 2
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "권한 없음.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "examples": {
                  "토큰 누락": {
                    "value": {
                      "errorCode": 100
                    }
                  },
                  "토큰 유저 존재하지 않음": {
                    "value": {
                      "errorCode": 101
                    }
                  },
                  "토큰 만료": {
                    "value": {
                      "errorCode": 108
                    }
                  },
                  "토큰 유효하지 않음": {
                    "value": {
                      "errorCode": 109
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/reviews/{reviewsId}": {
      "put": {
        "description": "책 리뷰를 수정한다. 작성자만 수정할 수 있다. content 길이는 10글자 이상 100글자 이하로 입력하여야 한다.",
        "tags": [
          "reviews"
        ],
        "parameters": [
          {
            "name": "reviewsId",
            "in": "path",
            "description": "수정할 reviews ID",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "content": {
                    "type": "string",
                    "nullable": false,
                    "example": "책이 좋네요 열글자."
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "리뷰가 DB에 정상적으로 update됨."
          },
          "400": {
            "description": "클라이언트 요청이 유효하지 않음.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "examples": {
                  "적절하지 않는 reviewsId 값": {
                    "value": {
                      "errorCode": 800
                    }
                  },
                  "유효하지 않은 content 길이": {
                    "value": {
                      "errorCode": 801
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "권한 없음.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "examples": {
                  "토큰 누락": {
                    "value": {
                      "errorCode": 100
                    }
                  },
                  "토큰 유저 존재하지 않음": {
                    "value": {
                      "errorCode": 101
                    }
                  },
                  "토큰 만료": {
                    "value": {
                      "errorCode": 108
                    }
                  },
                  "토큰 유효하지 않음": {
                    "value": {
                      "errorCode": 109
                    }
                  },
                  "토큰 userId와 리뷰 userID 불일치 && 사서 권한 없음": {
                    "value": {
                      "errorCode": 801
                    }
                  },
                  "토큰 Disabled Reviews는 수정할 수 없음.": {
                    "value": {
                      "errorCode": 805
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "존재하지 않는 reviewsId.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "examples": {
                  "존재하지 않는 reviewsId": {
                    "value": {
                      "errorCode": 804
                    }
                  }
                }
              }
            }
          }
        }
      },
      "patch": {
        "description": "책 리뷰의 비활성화 여부를 토글 방식으로 변환",
        "tags": [
          "reviews"
        ],
        "parameters": [
          {
            "name": "reviewsId",
            "in": "path",
            "description": "수정할 reviews ID",
            "required": true
          }
        ],
        "requestBody": {
          "required": false
        },
        "responses": {
          "200": {
            "description": "리뷰가 DB에 정상적으로 fetch됨."
          }
        }
      },
      "delete": {
        "description": "책 리뷰를 삭제한다. 작성자와 사서 권한이 있는 사용자만 삭제할 수 있다.",
        "tags": [
          "reviews"
        ],
        "parameters": [
          {
            "name": "reviewsId",
            "required": true,
            "in": "path",
            "description": "들어온 reviewsId에 해당하는 리뷰를 삭제한다."
          }
        ],
        "responses": {
          "200": {
            "description": "리뷰가 DB에서 정상적으로 delete됨."
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "examples": {
                  "적절하지 않는 reviewsId 값": {
                    "value": {
                      "errorCode": 800
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "권한 없음.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "examples": {
                  "토큰 누락": {
                    "value": {
                      "errorCode": 100
                    }
                  },
                  "토큰 유저 존재하지 않음": {
                    "value": {
                      "errorCode": 101
                    }
                  },
                  "토큰 만료": {
                    "value": {
                      "errorCode": 108
                    }
                  },
                  "토큰 유효하지 않음": {
                    "value": {
                      "errorCode": 109
                    }
                  },
                  "토큰 userId와 리뷰 userID 불일치 && 사서 권한 없음": {
                    "value": {
                      "errorCode": 801
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "존재하지 않는 reviewsId.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "examples": {
                  "존재하지 않는 reviewsId": {
                    "value": {
                      "errorCode": 804
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/slack/updateSlackList": {
      "get": {
        "description": "인증된 회원의 Slack ID를 추가한다. (사서만 가능)",
        "tags": [
          "auth"
        ],
        "responses": {
          "204": {
            "description": "정상적으로 검사 완료"
          },
          "401": {
            "description": "토큰이 없을 경우 에러",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "number"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "권한이 맞지 않을때 에러",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "number"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "410": {
            "description": "해당 토큰의 유저가 DB에 없을 경우의 에러",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "number"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "예상 하지 못한 오류",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "number"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/stock/search": {
      "get": {
        "description": "책 재고 정보를 검색해 온다.",
        "tags": [
          "stock"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "description": "페이지",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "description": "한 페이지에 들어올 검색결과 수",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "검색 결과를 반환한다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "description": "재고 정보 목록",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "bookId": {
                            "description": "도서 번호",
                            "type": "integer",
                            "example": 3
                          },
                          "bookInfoId": {
                            "description": "도서 정보 번호",
                            "type": "integer",
                            "example": 2
                          },
                          "title": {
                            "description": "책 제목",
                            "type": "string",
                            "example": "TCP IP 윈도우 소켓 프로그래밍"
                          },
                          "author": {
                            "description": "저자",
                            "type": "string",
                            "example": "김선우"
                          },
                          "donator": {
                            "description": "기부자 닉네임",
                            "type": "string",
                            "example": ""
                          },
                          "publisher": {
                            "description": "출판사",
                            "type": "string",
                            "example": "한빛아카데미"
                          },
                          "pubishedAt": {
                            "description": "출판일",
                            "type": "string",
                            "format": "date",
                            "example": 20220522
                          },
                          "isbn": {
                            "description": "isbn",
                            "type": "string",
                            "format": "number",
                            "example": "9788998756444"
                          },
                          "image": {
                            "description": "이미지 주소",
                            "type": "string",
                            "format": "uri",
                            "example": "https://image.kyobobook.co.kr/images/book/xlarge/444/x9788998756444.jpg"
                          },
                          "status": {
                            "description": "책의 상태 정보",
                            "type": "number",
                            "example": 0
                          },
                          "categoryId": {
                            "description": "책의 캬테고리 번호",
                            "type": "number",
                            "example": 2
                          },
                          "callSign": {
                            "description": "책의 고유 호출 번호",
                            "type": "string",
                            "example": "C5.13.v1.c2"
                          },
                          "category": {
                            "description": "책의 카테고리 정보",
                            "type": "string",
                            "example": "네트워크"
                          },
                          "updatedAt": {
                            "description": "책 정보의 마지막 변경 날짜",
                            "type": "string",
                            "format": "date",
                            "example": "2022-07-09-22:49:33"
                          }
                        }
                      }
                    },
                    "meta": {
                      "description": "재고 수와 관련된 정보",
                      "type": "object",
                      "properties": {
                        "totalItems": {
                          "description": "전체 검색 결과 수",
                          "type": "integer",
                          "example": 1
                        },
                        "itemCount": {
                          "description": "현재 페이지 검색 결과 수",
                          "type": "integer",
                          "example": 1
                        },
                        "itemsPerPage": {
                          "description": "페이지 당 검색 결과 수",
                          "type": "integer",
                          "example": 1
                        },
                        "totalPages": {
                          "description": "전체 결과 페이지 수",
                          "type": "integer",
                          "example": 1
                        },
                        "currentPage": {
                          "description": "현재 페이지",
                          "type": "integer",
                          "example": 1
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "description": "error description",
                  "properties": {
                    "errorCode": {
                      "type": "number",
                      "description": "에러코드",
                      "example": 1
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/stock/update": {
      "patch": {
        "description": "책 재고를 확인하고 업데이트",
        "tags": [
          "stock"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "number",
                    "description": "bookId"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "재고가 정상적으로 update 됨."
          },
          "307": {
            "description": "update 할 수 없는 bookId"
          }
        }
      }
    },
    "/api/tags/super": {
      "patch": {
        "description": "슈퍼 태그를 수정한다.",
        "tags": [
          "tags"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "description": "수정할 태그의 id",
                    "type": "integer",
                    "example": 1
                  },
                  "content": {
                    "description": "슈퍼 태그 내용",
                    "type": "string",
                    "example": "수정할_내용_적기"
                  }
                },
                "required": ["id"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "슈퍼 태그 수정 성공.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "description": "수정된 슈퍼 태그의 id",
                      "type": "integer",
                      "example": 1
                    }
                  }
                }
              }
            }
          },
          "900": {
            "description": "태그의 양식이 올바르지 않습니다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errorCode": {
                      "type": "integer",
                      "example": 900
                    }
                  }
                }
              }
            }
          },
          "902": {
            "description": "이미 존재하는 태그입니다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errorCode": {
                      "type": "integer",
                      "example": 902
                    }
                  }
                }
              }
            }
          },
          "905": {
            "description": "DB 에러로 인한 업데이트 실패",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errorCode": {
                      "type": "number",
                      "example": 500
                    }
                  }
                }
              }
            }
          },
          "906": {
            "description": "디폴트 태그입니다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errorCode": {
                      "type": "integer",
                      "example": 906
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "description": "슈퍼(부모) 태그를 생성한다. 태그 길이는 42자 미만으로 해야한다.",
        "tags": [
          "tags"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "bookInfoId": {
                    "type": "number",
                    "nullable": false,
                    "example": 42
                  },
                  "content": {
                    "type": "string",
                    "nullable": false,
                    "example": "Python"
                  }
                },
                "required": ["bookInfoId", "content"]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "태그가 DB에 정상적으로 insert됨."
          },
          "400": {
            "description": "잘못된 요청.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "examples": {
                  "유효하지 않은 content 형식": {
                    "value": {
                      "errorCode": 900
                    }
                  },
                  "유효하지 않은 bookInfoId": {
                    "value": {
                      "errorCode": 907
                    }
                  },
                  "슈퍼 태그의 내용이 중복됨": {
                    "value": {
                      "errorCode": 908
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "권한 없음.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "examples": {
                  "토큰 누락": {
                    "value": {
                      "errorCode": 100
                    }
                  },
                  "토큰 유저 존재하지 않음": {
                    "value": {
                      "errorCode": 101
                    }
                  },
                  "토큰 만료": {
                    "value": {
                      "errorCode": 108
                    }
                  },
                  "토큰 유효하지 않음": {
                    "value": {
                      "errorCode": 109
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/tags/sub": {
      "patch": {
        "description": "서브 태그를 수정한다.",
        "tags": [
          "tags"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "description": "수정할 태그의 id",
                    "type": "integer",
                    "example": 1
                  },
                  "visibility": {
                    "description": "서브 태그의 공개 여부",
                    "type": "string",
                    "example": "public, private"
                  }
                },
                "required": [
                  "id"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "서브 태그 수정 성공.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "description": "수정된 서브 태그의 id",
                      "type": "integer",
                      "example": 1
                    }
                  }
                }
              }
            }
          },
          "900": {
            "description": "태그의 양식이 올바르지 않습니다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errorCode": {
                      "type": "integer",
                      "example": 900
                    }
                  }
                }
              }
            }
          },
          "901": {
            "description": "권한이 없습니다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errorCode": {
                      "type": "integer",
                      "example": 902
                    }
                  }
                }
              }
            }
          },
          "905": {
            "description": "DB 에러로 인한 업데이트 실패",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errorCode": {
                      "type": "number",
                      "example": 500
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/tags/{bookInfoId}/merge": {
      "patch": {
        "description": "태그를 병합한다.",
        "tags": [
          "tags"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "bookInfoId",
            "description": "병합할 책 정보의 id",
            "required": true,
            "type": "integer"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "subTagIds": {
                    "description": "병합될 서브 태그의 id 리스트",
                    "type": "array",
                    "example": [
                      1,
                      2,
                      3,
                      5,
                      10
                    ]
                  },
                  "superTagId": {
                    "description": "슈퍼 태그의 id. null일 경우, 디폴트 태그로 병합됨을 의미한다.",
                    "type": "integer",
                    "example": 2
                  }
                },
                "required": [
                  "subTagIds",
                  "superTagId"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "슈퍼 태그 수정 성공.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "description": "슈퍼 태그의 id",
                      "type": "integer",
                      "example": 1
                    }
                  }
                }
              }
            }
          },
          "900": {
            "description": "태그의 양식이 올바르지 않습니다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errorCode": {
                      "type": "integer",
                      "example": 900
                    }
                  }
                }
              }
            }
          },
          "902": {
            "description": "이미 존재하는 태그입니다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errorCode": {
                      "type": "integer",
                      "example": 902
                    }
                  }
                }
              }
            }
          },
          "905": {
            "description": "DB 에러로 인한 업데이트 실패",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errorCode": {
                      "type": "number",
                      "example": 500
                    }
                  }
                }
              }
            }
          },
          "906": {
            "description": "디폴트 태그에는 병합할 수 없습니다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errorCode": {
                      "type": "integer",
                      "example": 906
                    }
                  }
                }
              }
            }
          },
          "910": {
            "description": "유효하지 않은 태그 id입니다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errorCode": {
                      "type": "integer",
                      "example": 910
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/tags/default": {
      "post": {
        "description": "디폴트(자식) 태그를 생성한다. 태그 길이는 42자 미만으로 해야한다.",
        "tags": [
          "tags"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "bookInfoId": {
                    "type": "number",
                    "nullable": false,
                    "example": 42
                  },
                  "content": {
                    "type": "string",
                    "nullable": false,
                    "example": "Python"
                  }
                },
                "required": [
                  "bookInfoId",
                  "content"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "태그가 DB에 정상적으로 insert됨."
          },
          "400": {
            "description": "잘못된 요청.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "examples": {
                  "유효하지 않은 content 형식": {
                    "value": {
                      "errorCode": 900
                    }
                  },
                  "유효하지 않은 bookInfoId": {
                    "value": {
                      "errorCode": 907
                    }
                  },
                  "디폴트 태그의 내용이 중복됨": {
                    "value": {
                      "errorCode": 909
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "권한 없음.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "examples": {
                  "토큰 누락": {
                    "value": {
                      "errorCode": 100
                    }
                  },
                  "토큰 유저 존재하지 않음": {
                    "value": {
                      "errorCode": 101
                    }
                  },
                  "토큰 만료": {
                    "value": {
                      "errorCode": 108
                    }
                  },
                  "토큰 유효하지 않음": {
                    "value": {
                      "errorCode": 109
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/tags/sub/{tagId}": {
      "delete": {
        "description": "서브, 디폴트 태그를 삭제한다. 작성자만 태그를 삭제할 수 있다.",
        "tags": [
          "tags"
        ],
        "parameters": [
          {
            "name": "tagId",
            "required": true,
            "in": "path",
            "description": "들어온 tagId에 해당하는 태그를 삭제한다."
          }
        ],
        "responses": {
          "200": {
            "description": "태그가 DB에서 정상적으로 delete됨."
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "examples": {
                  "적절하지 않는 tagId 값": {
                    "value": {
                      "errorCode": 900
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "권한 없음.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "examples": {
                  "토큰 누락": {
                    "value": {
                      "errorCode": 100
                    }
                  },
                  "토큰 유저 존재하지 않음": {
                    "value": {
                      "errorCode": 101
                    }
                  },
                  "토큰 만료": {
                    "value": {
                      "errorCode": 108
                    }
                  },
                  "토큰 유효하지 않음": {
                    "value": {
                      "errorCode": 109
                    }
                  },
                  "토큰 userId와 태그 userID 불일치 && 사서 권한 없음": {
                    "value": {
                      "errorCode": 901
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "존재하지 않는 tagsId.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "examples": {
                  "존재하지 않는 tagsId": {
                    "value": {
                      "errorCode": 903
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/tags/super/{tagId}": {
      "delete": {
        "description": "슈퍼 태그를 삭제한다. 사서 권한이 있는 사용자만 삭제할 수 있다.",
        "tags": [
          "tags"
        ],
        "parameters": [
          {
            "name": "tagId",
            "required": true,
            "in": "path",
            "description": "들어온 tagId에 해당하는 태그를 삭제한다."
          }
        ],
        "responses": {
          "200": {
            "description": "태그가 DB에서 정상적으로 delete됨."
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "examples": {
                  "적절하지 않는 tagId 값": {
                    "value": {
                      "errorCode": 900
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "권한 없음.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "examples": {
                  "토큰 누락": {
                    "value": {
                      "errorCode": 100
                    }
                  },
                  "토큰 유저 존재하지 않음": {
                    "value": {
                      "errorCode": 101
                    }
                  },
                  "토큰 만료": {
                    "value": {
                      "errorCode": 108
                    }
                  },
                  "토큰 유효하지 않음": {
                    "value": {
                      "errorCode": 109
                    }
                  },
                  "토큰 userId와 태그 userID 불일치 && 사서 권한 없음": {
                    "value": {
                      "errorCode": 901
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "존재하지 않는 tagsId.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "examples": {
                  "존재하지 않는 tagsId": {
                    "value": {
                      "errorCode": 903
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/tags": {
      "get": {
        "tags": [
          "tags"
        ],
        "summary": "서브/디폴트 태그 정보를 검색한다.",
        "description": "서브/디폴트 태그 정보를 검색한다. 이는 태그 관리 페이지에서 사용한다.",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "검색 결과의 페이지.",
            "schema": {
              "type": "integer",
              "default": 0,
              "example": 0
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "검색 결과 한 페이지당 보여줄 결과물의 개수.",
            "schema": {
              "type": "integer",
              "default": 10,
              "example": 10
            }
          },
          {
            "name": "visibility",
            "in": "query",
            "description": "공개 및 비공개 여부로, public 이면 공개, private 이면 비공개, null이면 모든 서브 및 디폴트 태그만 가져온다.",
            "schema": {
              "type": "string",
              "default": null,
              "example": null,
              "enum": [
                null,
                "public",
                "private"
              ]
            }
          },
          {
            "name": "query",
            "in": "query",
            "description": "태그가 달린 도서명 또는 태그의 내용으로 검색한다.",
            "schema": {
              "type": "string",
              "example": "개발자의 코드",
              "nullable": true
            }
          }
        ],
        "responses": {
          "200": {
            "400": {
              "description": "잘못된 요청. 잘못 입력된 json key, 유효하지 않은 value 등"
            },
            "401": {
              "description": "태그 기록을 조회할 권한이 없는 사용자"
            },
            "500": {
              "description": "db 에러"
            },
            "description": "서브/디폴트 태그들을 반환한다. 디폴트 태그라면 superContent에 null이 들어가고, 서브 태그라면 superContent에 super 태그의 내용이 들어간다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "description": "태그 목록",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "bookInfoId": {
                            "description": "태그가 등록된 도서의 infoId",
                            "type": "integer",
                            "example": 1
                          },
                          "title": {
                            "description": "태그가 등록된 도서의 제목",
                            "type": "string",
                            "example": "개발자의 코드"
                          },
                          "id": {
                            "description": "태그 고유 id",
                            "type": "integer",
                            "example": 1
                          },
                          "createdAt": {
                            "description": "태그가 등록된 시간",
                            "type": "string",
                            "example": "2023-04-12"
                          },
                          "login": {
                            "description": "태그를 작성한 카뎃의 닉네임",
                            "type": "string",
                            "example": "yena"
                          },
                          "content": {
                            "description": "서브/디폴트 태그의 내용",
                            "type": "string",
                            "example": "yena가_추천하는"
                          },
                          "superContent": {
                            "description": "슈퍼 태그의 내용",
                            "type": "string",
                            "example": "1서클_추천_책"
                          },
                          "visibility": {
                            "description": "공개 여부. 공개는 public, 비공개는 private이다.",
                            "type": "string",
                            "example": "public"
                          }
                        }
                      }
                    },
                    "meta": {
                      "description": "모든 태그 수와 관련된 정보",
                      "type": "object",
                      "properties": {
                        "totalItems": {
                          "description": "전체 검색 결과 수",
                          "type": "integer",
                          "example": 1
                        },
                        "itemCount": {
                          "description": "현재 페이지 검색 결과 수",
                          "type": "integer",
                          "example": 1
                        },
                        "itemsPerPage": {
                          "description": "페이지 당 검색 결과 수",
                          "type": "integer",
                          "example": 10
                        },
                        "totalPages": {
                          "description": "전체 결과 페이지 수",
                          "type": "integer",
                          "example": 1
                        },
                        "currentPage": {
                          "description": "현재 페이지",
                          "type": "integer",
                          "example": 1
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/tags/{superTagId}/sub": {
      "get": {
        "tags": [
          "tags"
        ],
        "summary": "슈퍼 태그에 속한 서브 태그 목록을 가져온다.",
        "description": "superTagId에 해당하는 슈퍼 태그에 속한 서브 태그 목록을 가져온다. 태그 병합 페이지에서 슈퍼 태그의 서브 태그를 가져올 때 사용한다.",
        "parameters": [
          {
            "in": "path",
            "name": "superTagId",
            "description": "서브 태그를 조회할 슈퍼 태그의 id",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "슈퍼 태그에 속한 서브 태그들을 반환한다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "description": "슈퍼 태그에 속한 서브 태그 목록",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "description": "서브 태그 고유 id",
                            "type": "integer"
                          },
                          "content": {
                            "description": "서브 태그의 내용",
                            "type": "string"
                          },
                          "login": {
                            "description": "서브 태그를 작성한 카뎃의 인트라 id",
                            "type": "string"
                          }
                        }
                      },
                      "example": [
                        {
                          "id": 0,
                          "content": "도커_쿠버네티스",
                          "login": "yena"
                        },
                        {
                          "id": 42,
                          "content": "도커",
                          "login": "yena"
                        },
                        {
                          "id": 50,
                          "content": "도커",
                          "login": "jang-cho"
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청. 잘못 입력된 json key, 유효하지 않은 value 등"
          },
          "401": {
            "description": "태그 기록을 조회할 권한이 없는 사용자"
          },
          "500": {
            "description": "db 에러"
          }
        }
      }
    },
    "/api/tags/{bookInfoId}": {
      "get": {
        "tags": [
          "tags"
        ],
        "summary": "도서에 등록된 슈퍼 태그, 디폴트 태그 목록을 가져온다.",
        "description": "슈퍼 태그(노출되는 태그), 디폴트 태그(노출되지 않고 분류되지 않은 태그)를 가져온다. 이는 도서 상세 페이지 및 태그 병합 페이지에서 사용된다.",
        "parameters": [
          {
            "in": "path",
            "name": "bookInfoId",
            "description": "태그를 조회할 도서의 infoId",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "슈퍼 태그, 디폴트 태그들을 반환한다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "description": "슈퍼 태그, 디폴트 태그 목록",
                      "type": "object",
                      "properties": {
                        "id": {
                          "description": "슈퍼 태그 고유 id",
                          "type": "integer"
                        },
                        "content": {
                          "description": "슈퍼 태그 내용",
                          "type": "string"
                        },
                        "count": {
                          "description": "슈퍼 태그에 속한 서브 태그 개수. 슈퍼 태그는 기본값이 1이며, 0이면 디폴트 태그를 의미한다.",
                          "type": "integer"
                        },
                        "login": {
                          "description": "태그를 작성한 카뎃의 인트라 id. 슈퍼 태그는 기본값이 null이며, 디폴트 태그만 작성자 값이 있다.",
                          "type": "string"
                        },
                        "type": {
                          "description": "태그의 타입. 슈퍼 태그는 'super'이며, 디폴트 태그는 'default'이다.",
                          "type": "string"
                        }
                      },
                      "example": [
                        {
                          "id": 0,
                          "content": "1서클_추천_책",
                          "count": 3,
                          "login": null,
                          "type": "super"
                        },
                        {
                          "id": 42,
                          "content": "커리어",
                          "count": 1,
                          "login": null,
                          "type": "super"
                        },
                        {
                          "id": 0,
                          "content": "yena가_추천하는",
                          "count": 0,
                          "login": "yena",
                          "type": "default"
                        },
                        {
                          "id": 42,
                          "content": "마법같은_파이썬",
                          "count": 0,
                          "login": "yena",
                          "type": "default"
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청. 잘못 입력된 json key, 유효하지 않은 value 등"
          },
          "401": {
            "description": "태그 기록을 조회할 권한이 없는 사용자"
          },
          "500": {
            "description": "db 에러"
          }
        }
      }
    },
    "/api/users/search": {
      "get": {
        "description": "유저 정보를 검색해 온다. query 가 null이면 모든 유저를 검색한다.",
        "tags": [
          "users"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "nicknameOrEmail",
            "description": "검색할 유저의 nickname or email",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "page",
            "description": "페이지",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "description": "한 페이지에 들어올 검색결과 수",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "id",
            "description": "검색할 유저의 id",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "검색 결과를 반환한다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "description": "유저 정보 목록",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "description": "유저 번호",
                            "type": "integer",
                            "example": 3
                          },
                          "email": {
                            "description": "이메일",
                            "type": "string",
                            "example": "kyungsle@gmail.com"
                          },
                          "nickname": {
                            "description": "닉네임",
                            "type": "string",
                            "example": "kyungsle"
                          },
                          "intraId": {
                            "description": "인트라 고유 번호",
                            "type": "integer",
                            "example": 10068
                          },
                          "slack": {
                            "description": "slack 멤버 Id",
                            "type": "string",
                            "example": "U035MUEUGKW"
                          },
                          "penaltyEndDate": {
                            "description": "패널티 끝나는 날짜",
                            "type": "string",
                            "format": "date",
                            "example": "2022-05-22"
                          },
                          "overDueDay": {
                            "description": "현재 연체된 날수",
                            "type": "string",
                            "format": "number",
                            "example": 0
                          },
                          "role": {
                            "description": "권한",
                            "type": "integer",
                            "example": 2
                          },
                          "reservations": {
                            "description": "해당 유저의 예약 정보",
                            "type": "array",
                            "example": []
                          },
                          "lendings": {
                            "description": "해당 유저의 대출 정보",
                            "type": "array",
                            "example": []
                          }
                        }
                      }
                    },
                    "meta": {
                      "description": "유저 수와 관련된 정보",
                      "type": "object",
                      "properties": {
                        "totalItems": {
                          "description": "전체 검색 결과 수",
                          "type": "integer",
                          "example": 1
                        },
                        "itemCount": {
                          "description": "현재 페이지 검색 결과 수",
                          "type": "integer",
                          "example": 1
                        },
                        "itemsPerPage": {
                          "description": "페이지 당 검색 결과 수",
                          "type": "integer",
                          "example": 1
                        },
                        "totalPages": {
                          "description": "전체 결과 페이지 수",
                          "type": "integer",
                          "example": 1
                        },
                        "currentPage": {
                          "description": "현재 페이지",
                          "type": "integer",
                          "example": 1
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Client Error Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "description": "error description",
                  "properties": {
                    "errorCode": {
                      "type": "number",
                      "description": "에러코드",
                      "example": 200
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "description": "error description",
                  "properties": {
                    "errorCode": {
                      "type": "number",
                      "description": "에러코드",
                      "example": 1
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/users/create": {
      "post": {
        "description": "유저를 생성한다.",
        "tags": [
          "users"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string"
                  },
                  "password": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "유저 생성 성공!"
          },
          "400": {
            "description": "입력된 인자가 부적절합니다",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "description": "200, 201, 205 에러 가능",
                  "properties": {
                    "errorCode": {
                      "type": "number",
                      "description": "error description",
                      "example": 200
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "description": "error description",
                  "properties": {
                    "errorCode": {
                      "type": "number",
                      "description": "에러코드",
                      "example": 1
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/users/update/{id}": {
      "patch": {
        "description": "유저 정보를 변경한다.",
        "tags": [
          "users"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "변경할 유저의 id 값",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "nickname": {
                    "type": "string"
                  },
                  "intraId": {
                    "type": "integer"
                  },
                  "slack": {
                    "type": "string"
                  },
                  "role": {
                    "type": "integer"
                  },
                  "penaltyEndDate": {
                    "type": "string", "format": "date",
                    "example": "2022-06-18"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "수정된 유저 정보를 반환합니다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "nickname": {
                      "description": "에러코드",
                      "type": "string",
                      "example": "jimin"
                    },
                    "intraId": {
                      "description": "인트라 ID",
                      "type": "string",
                      "example": 10035
                    },
                    "slack": {
                      "description": "slack 맴버 변수",
                      "type": "string",
                      "example": "U02LNNDRC9F"
                    },
                    "role": {
                      "description": "유저의 권한",
                      "type": "string",
                      "example": 2
                    },
                    "penaltyEbdDate": {
                      "description": "패널티가 끝나는 날",
                      "type": "string",
                      "example": "2022-06-18"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "nickname, intraId, slack, role 중 아무것도 없습니다..",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errorCode": {
                      "type": "integer",
                      "example": 200
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "DB Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "description": "error description",
                  "properties": {
                    "errorCode": {
                      "type": "number",
                      "description": "에러코드",
                      "example": 1
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/users/myupdate": {
      "patch": {
        "description": "유저 정보를 변경한다.",
        "tags": [
          "users"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string"
                  },
                  "password": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "유저 정보 변경 성공!"
          },
          "400": {
            "description": "들어온 인자가 없습니다..",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "description": "error description",
                  "properties": {
                    "errorCode": {
                      "type": "number",
                      "description": "에러코드",
                      "example": 200
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "수정하려는 계정이 본인의 계정이 아닙니다",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "description": "error description",
                  "properties": {
                    "errorCode": {
                      "type": "number",
                      "description": "에러코드",
                      "example": 206
                    }
                  }
                }
              }
            }
          },
          "409": {
            "description": "수정하려는 값이 중복됩니다",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "description": "203, 204 에러",
                  "properties": {
                    "errorCode": {
                      "type": "number",
                      "description": "에러코드",
                      "example": 204
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "description": "error description",
                  "properties": {
                    "errorCode": {
                      "type": "number",
                      "description": "에러코드",
                      "example": 1
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/users/EasterEgg": {
      "get": {
        "description": "집현전 개발 버전을 확인합니다.",
        "tags": [
          "users"
        ],
        "responses": {
          "200": {
            "description": "수정된 유저 정보를 반환합니다.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "version": {
                      "description": "에러코드",
                      "type": "string",
                      "example": "gshim.v1"
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {},
  "tags": []
}
